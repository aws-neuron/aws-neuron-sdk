{%- extends "page.html" %}
{# Over-ride the body to be custom search structure we want #}
{% block docs_body %}
  <div class="bd-search-container">
    <h1>{{ _("Search") }}</h1>
    <noscript>
      <div class="admonition error">
        <p class="admonition-title">{% trans %}Error{% endtrans %}</p>
        <p>{% trans %}Please activate JavaScript to enable the search functionality.{% endtrans %}</p>
      </div>
    </noscript>
    <div id="search-results"></div>
  </div>
  <script>
// Activate the search field on page load
let searchForm3 = document.getElementById('search-form');
let searchFormInput3 = searchForm3.querySelector('input[type="search"]');


if (searchFormInput3) {
  searchFormInput3.focus();
  searchFormInput3.select();
  console.log("[PST]: Set focus on search field3.");
  searchFormInput3.value = localStorage.getItem('lastSearchQuery');
} 
  </script>
{% endblock docs_body %}
{# Below sections just re-create the behavior of Sphinx default search #}
{# Page metadata #}
{%- block htmltitle -%}
  <title>{{ _("Search") }} - {{ title or docstitle }}</title>
{%- endblock htmltitle -%}
{# Manually include the search JS that Sphinx includes #}
{% block scripts -%}
  {{ super() }}
  <script src="{{ pathto('_static/searchtools.js', 1) }}"></script>
  <script src="{{ pathto('_static/language_data.js', 1) }}"></script>
  <script src="{{ pathto('searchindex.js', 1) }}"></script>
{%- endblock scripts %}